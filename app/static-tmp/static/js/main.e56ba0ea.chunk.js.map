{"version":3,"sources":["context/Modal.js","store/session.js","components/auth/LoginForm.js","components/auth/SignUpForm.js","store/data_store.js","components/ProfileButton.js","components/NavBar.js","components/auth/ProtectedRoute.js","components/UsersList.js","components/User.js","components/Communities/CreateCommunityForm.js","components/Posts/CreatePostForm.js","components/HomePage/HomePage.js","components/Communities/EditCommunityForm.js","components/Communities/ViewCommunity.js","components/Posts/EditPostForm.js","components/Comments/EditCommentForm.js","components/Posts/ViewPost.js","App.js","store/index.js","index.js"],"names":["ModalContext","React","createContext","ModalProvider","children","modalRef","useRef","useState","value","setValue","useEffect","current","Provider","ref","Modal","onClose","currentId","modalNode","useContext","ReactDOM","createPortal","id","onClick","SET_USER","REMOVE_USER","baseUrl","process","setUser","user","type","payload","initialState","login","email","password","dispatch","fetch","method","headers","body","JSON","stringify","response","ok","json","data","status","errors","signUp","username","LoginForm","useDispatch","history","useHistory","setErrors","setEmail","setPassword","showModal","setShowModal","path","window","location","pathname","useSelector","state","session","to","onLogin","e","preventDefault","length","goBack","demoLogin","console","log","className","push","onSubmit","map","error","ind","htmlFor","name","placeholder","onChange","target","style","SignUpForm","setUsername","repeatPassword","setRepeatPassword","onSignUp","trim","required","GET_COMMUNITIES","CREATE_COMMUNITY","EDIT_COMMUNITY","DELETE_COMMUNITY","GET_USER_POST_VOTES","UPDATE_USER_POST_VOTES","GET_USER_COMMENT_VOTES","UPDATE_USER_COMMENT_VOTES","REMOVE_SESSION","all_communities","communities","add_community","community","del_community","ed_community","user_post_votes","votes","update_post_votes","vote","user_comment_votes","update_comment_votes","get_communities","res","create_community","edit_community","old","create_post","post","edit_post","delete_post","post_id","current_comment_score","commentId","score","create_comment","comment","edit_comment","delete_comment","current_post_score","postId","get_user_votes","userId","res2","post_vote","comment_vote","ProfileButton","showMenu","setShowMenu","closeMenu","document","addEventListener","removeEventListener","onLogout","NavBar","loaded","setLoaded","communityFilter","setCommunityFilter","noResults","setNoResults","data_funcs","communityObj","data_store","Object","values","current_community","split","toLowerCase","includes","exact","activeClassName","nextElementSibling","filter","alt","src","community_image","width","height","ProtectedRoute","props","UsersList","users","setUsers","responseData","fetchData","userComponents","User","useParams","CreateCommunityForm","communityName","setCommunityName","communityImage","setCommunityImage","communityInfo","setCommunityInfo","createCommunity","viewBox","xmlns","fill","points","maxLength","autoComplete","rows","cols","CreatePostForm","content","setContent","postTitle","setPostTitle","communityId","handlePost","class","HomePage","useLocation","user_votes","post_votes","saidIt","SpeechSynthesisUtterance","voiceMessage","posts","title","text","speechSynthesis","speak","handleVote","val","upArrow","getElementById","downArrow","scoreCont","getAttribute","setAttribute","voteType","innerText","reverse","d","strokeWidth","stroke","undefined","vote_type","strokeLinejoin","vote_score","user_name","replaceAll","comments","href","EditCommunityForm","community_info","formErrors","setFormErrors","handleEdit","reload","disabled","ViewCommunity","showEdit","setShowEdit","showComMenu","setShowComMenu","closeEdit","home","querySelector","onError","remove","classList","toggle","owner","community_id","EditPostForm","setTitle","editPost","updated_post","handleDelete","toDelete","EditCommentForm","editComment","updated_comment","ViewPost","prevLocation","newComment","setNewComment","handleClose","handleSubmitComment","saidItComment","commentInd","handlePostVote","handleCommentVote","user_id","comment_votes","App","enhancer","rootReducer","combineReducers","action","newState","forEach","postVoteObj","commentVoteObj","comment_id","newUserVotes","newPost","applyMiddleware","thunk","store","preloadedState","createStore","configureStore","render","StrictMode"],"mappings":"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","file":"static/js/main.e56ba0ea.chunk.js","sourcesContent":["import React, { useContext, useRef, useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Modal.css';\n\nconst ModalContext = React.createContext();\n\nexport function ModalProvider({ children }) {\n  const modalRef = useRef();\n  const [value, setValue] = useState();\n\n  useEffect(() => {\n    setValue(modalRef.current);\n  }, [])\n\n  return (\n    <>\n      <ModalContext.Provider value={value}>\n        {children}\n      </ModalContext.Provider>\n      <div ref={modalRef} />\n    </>\n  );\n}\n\nexport function Modal({ onClose, children, currentId}) {\n  const modalNode = useContext(ModalContext);\n  if (!modalNode) return null;\n  if (!currentId) currentId = 'modal-content';\n\n  return ReactDOM.createPortal(\n    <div id=\"modal\">\n      <div id=\"modal-background\" onClick={onClose} />\n      <div id={currentId}>\n        {children}\n      </div>\n    </div>,\n    modalNode\n  );\n}","// constants\nconst SET_USER = 'session/SET_USER';\nconst REMOVE_USER = 'session/REMOVE_USER';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst setUser = (user) => ({\n  type: SET_USER,\n  payload: user\n});\n\nconst removeUser = () => ({\n  type: REMOVE_USER,\n})\n\nconst initialState = { user: null };\n\nexport const authenticate = () => async (dispatch) => {\n  const response = await fetch(`${baseUrl}/api/auth/`, {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  if (response.ok) {\n    const data = await response.json();\n    if (data.errors) {\n      return;\n    }\n  \n    dispatch(setUser(data));\n  }\n}\n\nexport const login = (email, password) => async (dispatch) => {\n  const response = await fetch(`${baseUrl}/api/auth/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  \n  \n  if (response.ok) {\n    const data = await response.json();\n    dispatch(setUser(data))\n    return null;\n  } else if (response.status < 500) {\n    const data = await response.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n\n}\n\nexport const logout = () => async (dispatch) => {\n  const response = await fetch(`${baseUrl}/api/auth/logout`, {\n    headers: {\n      'Content-Type': 'application/json',\n    }\n  });\n\n  if (response.ok) {\n    dispatch(removeUser());\n  }\n};\n\n\nexport const signUp = (username, email, password) => async (dispatch) => {\n  const response = await fetch(`${baseUrl}/api/auth/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      username,\n      email,\n      password,\n    }),\n  });\n  \n  if (response.ok) {\n    const data = await response.json();\n    dispatch(setUser(data))\n    return null;\n  } else if (response.status < 500) {\n    const data = await response.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER:\n      return { user: action.payload }\n    case REMOVE_USER:\n      return { user: null }\n    default:\n      return state;\n  }\n}\n","import React, { useState } from 'react';\nimport { Modal } from '../../context/Modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { login } from '../../store/session';\nimport './Auth.css';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\n\nconst LoginForm = ({value}) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  // const location = useLocation();\n  const [errors, setErrors] = useState([]);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showModal, setShowModal] = useState(value ? true : false);\n  const path = window.location.pathname;\n  const user = useSelector(state => state.session.user)\n\n  if (path === `${baseUrl}/login` && user) {\n    return <Redirect to={`${baseUrl}/`} />;\n  } \n\n  const onLogin = async (e) => {\n    e.preventDefault();\n    const data = await dispatch(login(email, password));\n    if (data) {\n      setErrors(data);\n    } else {\n      if (path === `${baseUrl}/login` && history.length > 2) {\n        history.goBack()\n      } else {\n        return <Redirect to={path} />\n      }\n    }\n  };\n\n  const demoLogin = async (e) => {\n    console.log(history)\n    e.preventDefault();\n    const data = await dispatch(login('demo@aa.io', 'password'));\n    if (data) {\n      setErrors(data);\n    } else {\n      if (path === `${baseUrl}/login` && history.length > 2) {\n        history.goBack()\n      } else {\n        return <Redirect to={path} />\n      }\n    }\n  };\n\n  const updateEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const updatePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleClose = () => {\n\n    if (path === `${baseUrl}/login`) {\n      setShowModal(false);\n      history.push(`${baseUrl}/`);\n    } else {\n      setShowModal(false);\n    }\n\n  }\n\n  return (\n    <>\n      {!value && (\n      <button onClick={() => setShowModal(true)} className='main-links' id='login-btn'>Login</button>\n      )}\n      {showModal && (\n      <Modal onClose={handleClose}>\n        <div className='auth-cont'>\n          <div className='auth-side-banner'></div>\n          <div className='auth-content'>\n            <h1>Login</h1>\n            <p className='light-text'>By continuing, you agree to our User Agreement and Privacy Policy.</p>\n            <form className='auth-forms' onSubmit={onLogin}>\n              <div>\n                {errors.map((error, ind) => (\n                  <div key={ind}>{error}</div>\n                ))}\n              </div>\n              <div>\n                <label htmlFor='email'></label>\n                <input\n                  className='auth-input'\n                  name='email'\n                  type='email'\n                  placeholder='Email'\n                  value={email}\n                  onChange={updateEmail}\n                />\n              </div>\n              <div>\n                <label htmlFor='password'></label>\n                <input\n                  className='auth-input'\n                  name='password'\n                  type='password'\n                  placeholder='Password'\n                  value={password}\n                  onChange={updatePassword}\n                />\n                <button className='main-links login-btn' type='submit'>Login</button>\n                <button style={{'marginTop':'20px', 'background':'#fff', 'border':'1px solid #0079D3', 'color':'#0079D3'}} className='main-links login-btn' onClick={demoLogin}>Demo</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </Modal>\n      )}\n    </>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport { Modal } from '../../context/Modal';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Redirect } from 'react-router-dom';\nimport { signUp } from '../../store/session';\nimport { login } from '../../store/session';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst SignUpForm = () => {\n  const [errors, setErrors] = useState([]);\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const user = useSelector(state => state.session.user);\n  const dispatch = useDispatch();\n\n  const onSignUp = async (e) => {\n    e.preventDefault();\n    if (password === repeatPassword) {\n      const data = await dispatch(signUp(username.trim(), email.trim(), password.trim()));\n      if (data) {\n        setErrors(data)\n      }\n    } else {\n      setErrors(['Passwords do not match']);\n    }\n  };\n\n  const demoLogin = async (e) => {\n    e.preventDefault();\n    const data = await dispatch(login('demo@aa.io', 'password'));\n    if (data) {\n      setErrors(data);\n    }\n  };\n\n  const updateUsername = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const updateEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const updatePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const updateRepeatPassword = (e) => {\n    setRepeatPassword(e.target.value);\n  };\n\n  if (user) {\n    return <Redirect to={`${baseUrl}/`} />;\n  }\n\n  return (\n    <>\n      <button onClick={() => setShowModal(true)} className='main-links' id='signup-btn'>Sign Up</button>\n      {showModal && (\n      <Modal onClose={() => setShowModal(false)}>\n        <div className='auth-cont'>\n          <div className='auth-side-banner'></div>\n          <div className='auth-content'>\n            <h1>Sign Up</h1>\n            <form className='auth-forms' onSubmit={onSignUp}>\n              <div>\n                {errors.map((error, ind) => (\n                  <div key={ind}>{error}</div>\n                ))}\n              </div>\n              <div>\n                <label></label>\n                <input\n                  className='auth-input'\n                  type='text'\n                  name='username'\n                  placeholder='Username'\n                  onChange={updateUsername}\n                  value={username}\n                  required\n                ></input>\n              </div>\n              <div>\n                <label></label>\n                <input\n                  className='auth-input'\n                  type='email'\n                  name='email'\n                  placeholder='Email'\n                  onChange={updateEmail}\n                  value={email}\n                  required\n                ></input>\n              </div>\n              <div>\n                <label></label>\n                <input\n                  className='auth-input'\n                  type='password'\n                  name='password'\n                  placeholder='Password'\n                  onChange={updatePassword}\n                  value={password}\n                  required\n                ></input>\n              </div>\n              <div>\n                <label></label>\n                <input\n                  className='auth-input'\n                  type='password'\n                  name='repeat_password'\n                  placeholder='Repeat password'\n                  onChange={updateRepeatPassword}\n                  value={repeatPassword}\n                  required={true}\n                ></input>\n              </div>\n              <button className='main-links login-btn' type='submit'>Sign Up</button>\n              <button style={{'marginTop':'20px', 'background':'#fff', 'border':'1px solid #0079D3', 'color':'#0079D3'}} className='main-links login-btn' onClick={demoLogin}>Demo</button>\n            </form>\n          </div>\n        </div>\n      </Modal>\n      )}\n    </>\n  );\n};\n\nexport default SignUpForm;\n","// Community \n\nconst GET_COMMUNITIES = 'data_store/GET_COMMUNITIES';\nconst CREATE_COMMUNITY = 'data_store/CREATE_COMMUNITY';\nconst EDIT_COMMUNITY = 'data_store/EDIT_COMMUNITY';\nconst DELETE_COMMUNITY = 'data_store/DELETE_COMMUNITY';\n\nconst GET_USER_POST_VOTES = 'data_store/GET_USER_POST_VOTES';\nconst UPDATE_USER_POST_VOTES = 'data_store/UPDATE_USER_POST_VOTES';\nconst GET_USER_COMMENT_VOTES = 'data_store/GET_USER_COMMENT_VOTES';\nconst UPDATE_USER_COMMENT_VOTES = 'data_store/UPDATE_USER_POST_VOTES';\n\nconst REMOVE_SESSION = 'data_store/REMOVE_SESSION';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\n\nconst all_communities = (communities) => ({\n  type: GET_COMMUNITIES,\n  communities\n});\n\n\n\nconst add_community = (community) => ({\n  type: CREATE_COMMUNITY,\n  community\n});\n\n\nconst del_community = (community) => ({\n  type: DELETE_COMMUNITY,\n  community\n});\n\nconst ed_community = (community) => ({\n  type: EDIT_COMMUNITY,\n  community\n});\n\nconst user_post_votes = (votes) => ({\n  type: GET_USER_POST_VOTES,\n  votes\n});\n\nconst update_post_votes = (vote) => ({\n  type: UPDATE_USER_POST_VOTES,\n  vote\n});\n\nconst user_comment_votes = (votes) => ({\n  type: GET_USER_COMMENT_VOTES,\n  votes\n});\n\nconst update_comment_votes = (vote) => ({\n  type: UPDATE_USER_COMMENT_VOTES,\n  vote\n});\n\nconst remove_user_session = () => ({\n  type: REMOVE_SESSION\n});\n\n\n\n// Communities\n\nexport const get_communities = () => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/communities/`)\n  if (res.ok) {\n    const { communities } = await res.json()\n    dispatch(all_communities(communities));\n  } else {\n    return 'ERROR'\n  }\n};\n\n\n\n\n\nexport const create_community = (community) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/communities/new`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(community)\n  });\n\n  if (res.ok) {\n    const data = await res.json();\n    dispatch(add_community(data));\n  } else if (res.status < 500) {\n    const data = await res.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n};\n\n\nexport const edit_community = (community) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/communities/edit`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(community)\n  });\n\n  if (res.ok) {\n    const {community, old} = await res.json();\n    dispatch(ed_community(community, old));\n  } else if (res.status < 500) {\n    const data = await res.json();\n    if (data.errors) {\n      console.log(data.errors)\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n};\n\n\n\nexport const delete_community = (community_id) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/communities/delete`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(community_id)\n  });\n\n  if (res.ok) {\n    const community = await res.json();\n    await dispatch(del_community(community));\n    return community;\n  }\n\n};\n\n\n\n// Posts\n\nexport const create_post = (post) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/posts/new`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(post)\n  });\n\n  if (res.ok) {\n    await res.json();\n  } else if (res.status < 500) {\n    const data = await res.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n};\n\n\nexport const edit_post = (post) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/posts/edit`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(post)\n  });\n\n  if (res.ok) {\n    await res.json();\n  } else if (res.status < 500) {\n    const data = await res.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.'];\n  }\n};\n\n\nexport const delete_post = (post_id) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/posts/delete`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(post_id)\n  });\n\n  if (res.ok) {\n    const post = await res.json();\n    return post;\n  } \n};\n\n\nexport const current_comment_score = (commentId) => async dispatch => {\n\n  const res = await fetch(`${baseUrl}/api/comments/score/${commentId}`, {\n    headers: {\n    'Content-Type': 'application/json'\n    },\n  });\n\n  if (res.ok) {\n    const score = await res.json()\n    return score;\n  }\n};\n\n// Comments\n\nexport const create_comment = (comment) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/comments/new`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(comment)\n  });\n\n  if (res.ok) {\n    await res.json();\n  } else if (res.status < 500) {\n    const data = await res.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n}\n\n\nexport const edit_comment = (comment) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/comments/edit`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(comment)\n  });\n\n  if (res.ok) {\n    await res.json();\n  } else if (res.status < 500) {\n    const data = await res.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n}\n\n\nexport const delete_comment = (comment) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/comments/delete`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(comment)\n  });\n\n  if (res.ok) {\n    const comment = await res.json();\n    return comment;\n  } \n};\n\nexport const current_post_score = (postId) => async dispatch => {\n\n  const res = await fetch(`${baseUrl}/api/posts/score/${postId}`, {\n    headers: {\n    'Content-Type': 'application/json'\n    },\n  });\n\n  if (res.ok) {\n    const score = await res.json()\n    return score;\n  }\n};\n\n\n\n// Votes\n\nexport const get_user_votes = (userId) => async (dispatch) => {\n\n  if (!userId) return null;\n\n  const res = await fetch(`${baseUrl}/api/votes/post_vote`)\n  if (res.ok) {\n    const votes = await res.json()\n    await dispatch(user_post_votes(votes));\n  } \n\n  const res2 = await fetch(`${baseUrl}/api/votes/comment_vote`)\n  if (res2.ok) {\n    const votes = await res2.json()\n    await dispatch(user_comment_votes(votes));\n  } \n\n};\n\n\nexport const post_vote = (vote) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/votes/post_vote`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(vote)\n  });\n\n  if (res.ok) {\n    const vote = await res.json();\n    await dispatch(update_post_votes(vote))\n  }\n\n};\n\n\nexport const comment_vote = (vote) => async (dispatch) => {\n\n  const res = await fetch(`${baseUrl}/api/votes/comment_vote`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(vote)\n  });\n\n  if (res.ok) {\n    const vote = await res.json();\n    await dispatch(update_comment_votes(vote))\n  }\n\n};\n\n\nexport const remove_session = () => async (dispatch) => {\n\n  await dispatch(remove_user_session());\n\n};\n\n\n\n\nexport default function reducer(state = {all_communities: {}, user_votes: {post_votes: {}, comment_votes: {}}}, action) {\n\n  const newState = {...state};\n\n  switch(action.type) {\n\n    case GET_COMMUNITIES:\n      action.communities.forEach((community) => {\n      newState.all_communities[community.name.toLowerCase()] = community;\n\n      });\n        \n      return newState;\n\n    case CREATE_COMMUNITY:\n      newState.all_communities[action.community.name.toLowerCase()] = action.community;\n      return newState;\n\n    case EDIT_COMMUNITY:\n      newState.all_communities[action.community.name.toLowerCase()] = action.community;\n\n      return newState;\n\n    case DELETE_COMMUNITY:\n      delete newState.all_communities[action.community.name.toLowerCase()];\n      return newState;\n\n    case GET_USER_POST_VOTES:\n      const postVoteObj = {};\n      \n      action.votes.post_votes.forEach((vote) => {\n        postVoteObj[vote.post_id] = vote\n      });\n\n      newState.user_votes.post_votes = postVoteObj;\n  \n      return newState;\n\n    case UPDATE_USER_POST_VOTES:\n    \n      if (newState.user_votes[action.vote.post_id]?.vote_type === action.vote.vote_type) {\n        delete newState.user_votes[action.vote.post_id];\n      } else {\n        newState.user_votes[action.vote.post_id] = action.vote\n      }\n  \n      return newState;\n\n    case GET_USER_COMMENT_VOTES:\n      const commentVoteObj = {};\n      action.votes.comment_votes.forEach((vote) => {\n        commentVoteObj[vote.comment_id] = vote;\n      });\n\n      newState.user_votes.comment_votes = commentVoteObj;\n  \n      return newState;\n\n    case UPDATE_USER_COMMENT_VOTES:\n  \n      if (newState.user_votes[action.vote.comment_id]?.vote_type === action.vote.vote_type) {\n        delete newState.user_votes[action.vote.comment_id];\n      } else {\n        newState.user_votes[action.vote.comment_id] = action.vote\n      }\n  \n      return newState;\n\n    case REMOVE_SESSION:\n\n      const newUserVotes = {newPost: {}, newComment: {}};\n\n      newState.user_votes = newUserVotes;\n\n      return newState;\n\n    default:\n      return state;\n  }\n};","import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout } from '../store/session';\nimport { remove_session } from '../store/data_store';\n\nfunction ProfileButton() {\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n\n  const user = useSelector(state => state.session.user)\n  \n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n  \n  useEffect(() => {\n    if (!showMenu) return;\n\n    const closeMenu = () => {\n      setShowMenu(false);\n    };\n\n    document.addEventListener('click', closeMenu);\n  \n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n    const onLogout = async (e) => {\n      await dispatch(logout());\n      await dispatch(remove_session());\n    };\n\n  return (\n    <div className=\"user-profile\">\n      <button className=\"user-profile-btn\" onClick={openMenu}>\n      <i style={{'color': '#0079D3'}} className=\"fa-brands fa-reddit fa-lg\"></i>\n        <div className=\"drop-down-menu\">\n          {user.username}\n          {showMenu && (\n            <div className=\"profile-dropdown-cont\">\n              <div className=\"profile-dropdown\">\n                <div className=\"profile-btn-item\" onClick={onLogout}>Log Out</div>\n                {/* <div className=\"profile-btn-item\"></div>\n                <a href='https://www.linkedin.com/in/jesse-christensen-204801232/'><div className=\"profile-btn-item\">LinkedIn</div></a>\n                <a href='https://github.com/jess-chris'><div className=\"profile-btn-item\">GitHub</div></a> */}\n              </div>\n            </div>\n          )}\n        </div>\n        <i className=\"fa-solid fa-chevron-down\"></i>\n      </button>\n    </div>\n  );\n}\n\nexport default ProfileButton;","import React, { useState, useEffect } from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport './NavBar.css';\nimport ProfileButton from './ProfileButton';\nimport LoginForm from './auth/LoginForm';\nimport SignUpForm from './auth/SignUpForm';\n\nimport * as data_funcs from '../store/data_store';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst NavBar = () => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [loaded, setLoaded] = useState(false);\n  const [showMenu, setShowMenu] = useState(false);\n  const [communityFilter, setCommunityFilter] = useState('');\n  const [noResults, setNoResults] = useState(false);\n  \n  const user = useSelector(state => state.session.user);\n  \n  useEffect(() => {\n    (async() => {\n      await dispatch(data_funcs.get_communities());\n      setLoaded(true);\n    })();\n  }, [dispatch]);\n  \n  \n  const communityObj = useSelector(state => state.data_store.all_communities);\n  const communities = Object.values(communityObj);\n  const current_community = useSelector(state => state.data_store.all_communities[history?.location?.pathname?.split('/')[2]?.toLowerCase()]?.name);\n\n\n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n  \n  useEffect(() => {\n    if (!showMenu) return;\n\n    const closeMenu = (e) => {\n      if (!e.target.className.includes('community-filter')) {\n        setShowMenu(false);\n        setCommunityFilter('');\n        setNoResults(false);\n      }\n    };\n\n    document.addEventListener('click', closeMenu);\n  \n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n\n\n  return (\n    <>\n      <nav className='main-navbar'>\n\n\n        <NavLink className='main-logo' to={`${baseUrl}/`} exact={true} activeClassName='active'>\n          <div>\n            {/* <img alt='Said.it' src='/public/assets/said_it.png'></img> */}\n            {/* <svg class=\"_1bWuGs_1sq4Pqy099x_yy-\" viewBox=\"0 0 57 18\" xmlns=\"http://www.w3.org/2000/svg\" width=\"57\" height=\"18\"><g fill=\"#1C1C1C\"><path d=\"M54.63,16.52V7.68h1a1,1,0,0,0,1.09-1V6.65a1,1,0,0,0-.93-1.12H54.63V3.88a1.23,1.23,0,0,0-1.12-1.23,1.2,1.2,0,0,0-1.27,1.11V5.55h-1a1,1,0,0,0-1.09,1v.07a1,1,0,0,0,.93,1.12h1.13v8.81a1.19,1.19,0,0,0,1.19,1.19h0a1.19,1.19,0,0,0,1.25-1.12A.17.17,0,0,0,54.63,16.52Z\" fill=\"#1C1C1C\"></path><circle fill=\"#FF4500\" cx=\"47.26\" cy=\"3.44\" r=\"2.12\"></circle><path d=\"M48.44,7.81a1.19,1.19,0,1,0-2.38,0h0v8.71a1.19,1.19,0,0,0,2.38,0Z\" fill=\"#1C1C1C\"></path><path d=\"M30.84,1.19A1.19,1.19,0,0,0,29.65,0h0a1.19,1.19,0,0,0-1.19,1.19V6.51a4.11,4.11,0,0,0-3-1.21c-3.1,0-5.69,2.85-5.69,6.35S22.28,18,25.42,18a4.26,4.26,0,0,0,3.1-1.23,1.17,1.17,0,0,0,1.47.8,1.2,1.2,0,0,0,.85-1.05ZM25.41,15.64c-1.83,0-3.32-1.77-3.32-4s1.48-4,3.32-4,3.31,1.78,3.31,4-1.47,3.95-3.3,3.95Z\" fill=\"#1C1C1C\"></path><path d=\"M43.28,1.19A1.19,1.19,0,0,0,42.09,0h0a1.18,1.18,0,0,0-1.18,1.19h0V6.51a4.15,4.15,0,0,0-3-1.21c-3.1,0-5.69,2.85-5.69,6.35S34.72,18,37.86,18A4.26,4.26,0,0,0,41,16.77a1.17,1.17,0,0,0,1.47.8,1.19,1.19,0,0,0,.85-1.05ZM37.85,15.64c-1.83,0-3.31-1.77-3.31-4s1.47-4,3.31-4,3.31,1.78,3.31,4-1.47,3.95-3.3,3.95Z\" fill=\"#1C1C1C\"></path><path d=\"M17.27,12.44a1.49,1.49,0,0,0,1.59-1.38v-.15a4.81,4.81,0,0,0-.1-.85A5.83,5.83,0,0,0,13.25,5.3c-3.1,0-5.69,2.85-5.69,6.35S10.11,18,13.25,18a5.66,5.66,0,0,0,4.39-1.84,1.23,1.23,0,0,0-.08-1.74l-.11-.09a1.29,1.29,0,0,0-1.58.17,3.91,3.91,0,0,1-2.62,1.12A3.54,3.54,0,0,1,10,12.44h7.27Zm-4-4.76a3.41,3.41,0,0,1,3.09,2.64H10.14A3.41,3.41,0,0,1,13.24,7.68Z\" fill=\"#1C1C1C\"></path><path d=\"M7.68,6.53a1.19,1.19,0,0,0-1-1.18A4.56,4.56,0,0,0,2.39,6.91V6.75A1.2,1.2,0,0,0,0,6.75v9.77a1.23,1.23,0,0,0,1.12,1.24,1.19,1.19,0,0,0,1.26-1.1.66.66,0,0,0,0-.14v-5A3.62,3.62,0,0,1,5.81,7.7a4.87,4.87,0,0,1,.54,0h.24A1.18,1.18,0,0,0,7.68,6.53Z\" fill=\"#1C1C1C\"></path></g></svg> */}\n          </div>\n        </NavLink>\n\n\n            {/* <div>\n              <NavLink className='main-links' to='/users' exact={true} activeClassName='active'>\n              Users\n              </NavLink>\n            </div> */}\n        <div className='nav-community-cont'>\n            {user && user && (\n            <div className='community-dropdown-menu'>\n            <button onClick={openMenu} className='nav-community-select'>\n            <i style={{'paddingRight':'10px'}} className=\"fa-solid fa-house\"></i>\n            {loaded && current_community}\n            {loaded && !current_community && 'Home'}\n              {showMenu && (\n                <div className='community-dropdown-cont'>\n                  <div className='community-dropdown'>\n\n                      <input \n                      className='community-filter' \n                      type='text' \n                      placeholder='Filter'\n                      onChange={async (e) => {\n                        await setCommunityFilter(e.target.value);\n                        if (!e.target.nextElementSibling) {\n                          await setNoResults(true);\n                        }\n                        }\n                      }\n                      >\n                      </input>\n\n                    {noResults && (\n                      <div className='no-result community-dropdown-item'>No results found.</div>\n                    )}\n\n                    {communities && communities?.filter(community => {\n\n                      if (communityFilter === '') {\n                        return community;\n                      } else if (community?.name.toLowerCase().includes(communityFilter.toLowerCase())) {\n                        return community;\n                      } else {\n                        return null;\n                      }\n                    }).map((community) => {\n                      if (noResults) setNoResults(false);\n                      return (\n                        <NavLink key={community?.id} to={`${baseUrl}/s/${community?.name}`}>\n                          <div className='community-dropdown-item'>\n                            <div className='community-search-logo'>\n                              <img className='community-logo' alt='community-logo' src={`${community?.community_image || 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABFZJREFUWEfVWU1oVFcU/m6CJRKiCQE1am1GY8VoNNqdUrW4DSSFrETQoi4UQiLiz0iL2oKjltJphbrQ0hSkq4Ij1KU0UXSnHR0bUYOT+DcqhmSU4KBMnnzv5SVv3rv3/WU6pGeTkHfuud89P98590YgrERvfQ6UbwS0zyCwDBrmA6LKMKe9gcAzaLgHiBtAvhex1VfDbCUCLTr0bwNEfhcgtgBYGGgt8ATQ/oBWfhYnVvT7XesP4OHUXGg4AmC3X8MeemcgcAzHm1542fMGGE3tAPADgNlexgJ+zwLYh1jTr27r3AFGU78U0WsqHGcQa9qj+qgGeOh2AkK0BvRKOHVNu4gTq9pki+UASwnORKUA6QRYmrD6DnchQKMgzoWLk7GqvuYjpPd/imQmh2TmLZLP+DOHwZH3uLB1EZrrKhC/NoS9lzKqbXZaC2cSoEEl96ZarW2Ns3QgBNBcN1MHtLquwgFmzel+HbhEsjrxj1PQJMAihfbo5jnYtLgSm86mC/ZObF2E1sZZE3+LfH8fA8PvPENtANQ7xNiDqYTWXNuzK4Keh6M4evllgTmGvrt9ATZGKnHs8kvHd8feWtlSdhwDYPT2SUAcKAZA7fhKfHn+ERJ9r6doTjuF2KqD4wBTj0P0VgcA5ts/HQ3wCJ9f4E8Qa/pYQJ9Kyq74XeWmt31tDeIt81D97d1imAMwtkEgeudrQPsurEXm1ifVM4zCiFSivmYGui49x+DwO1WVBthKfCMQTV0AIG0zKkvVFeXoXF+LrvW14O9uQiqJX3uF32+OBAA2oZoQOJzqg4blstXc/MeWeSC3sTK5CTnNDzC7PVIKCbo3PYojm+foByN4VvRILi8HL3CXHuTRpKNUsqNBSrJhXKFaQ5AkbYVkmYN5QCuzK5gVWUwwKlvqriLGlACZ9H/vjEhtsq92/ZXRw87w/9a+QKrHdkcdtjxW92xFvnoAVId44MAyvULt8tP1IR2gKbJUuJXJodkSuu72hdi2ttphi4etP8URQCpZzyJh67I3ez8AL/a9Rtv5RxO7xlvq0LmutgAFwTX/3O9ZJK40w+bPqrMKK5Jc1/twFK2NVaB3ZEKABEquNEctqx4r2j5U2OwkPIlaBjBI4ZBCVFxpj4TTrk7U7q3uv6zmr/58iu6bwy7nZaujRN2HBeYhxyS7kLhliW/VY4itc6D5zaM4qDY+LOgA3cct5lCyY4mDJr44l8bA8HswDayTMyuYBMyZkL2Z+WcPs8tEPX4G67jlY2AlAHrSzmXkufj1IRCUOSHzQHpLXFerDxFWyebyenVznasUDKxGmD0v6fQCp2JZyPwUDquW/Km4i1hNTFzmQ12a6BXOfm2NVcruYM9DetnTa8YixaXJ8GLgayfBMvz0LkNLMUPdkx71C8p6HsW101TxEWo/4Qyp43in+R8+fZhHL+X7TODHo9KGO+Tz2yTIafyAaYKc1k/A1nKcto/oMs4o0b8hPgAAePkgmneDRQAAAABJRU5ErkJggg=='}`} width='20px' height='20px'></img>\n                            </div>\n                            s/{community?.name}\n                          </div>\n                        </NavLink>\n                      )\n                      })}\n\n                  </div>\n                </div>\n              )}\n            <i className=\"fa-solid fa-chevron-down\"></i>\n            </button>\n            </div>\n            )}\n        </div>\n\n\n\n        <div className='search-bar-cont'>\n          <form className='search-bar'>\n            <div className='search-bar-input'>\n              {/* <label  htmlFor='search'><i style={{'color':'grey', 'background':'#f6f7f8'}} className=\"fa-solid fa-magnifying-glass\"></i></label>\n              <input\n                type='search'\n                name='search'\n                className='search-bar-input'\n                placeholder='Search Said.it'\n              /> */}\n            </div>\n          </form>\n        </div>\n\n\n\n        {!user && (\n        <div className='navbar-items auth-links'>\n          <div>\n            <LoginForm />\n          </div>\n          <div>\n            <SignUpForm />\n          </div>\n        </div>\n        )}\n        {user && user && (\n        <>\n          <ProfileButton />\n        </>\n        )}\n      </nav>\n  </>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst ProtectedRoute = props => {\n  const user = useSelector(state => state.session.user)\n  return (\n    <Route {...props}>\n      {(user)? props.children  : <Redirect to={`${baseUrl}/login`} />}\n    </Route>\n  )\n};\n\n\nexport default ProtectedRoute;\n","import React, { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nfunction UsersList() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetch('/api/users/');\n      const responseData = await response.json();\n      setUsers(responseData.users);\n    }\n    fetchData();\n  }, []);\n\n  const userComponents = users.map((user) => {\n    return (\n      <li key={user.id}>\n        <NavLink to={`${baseUrl}/users/${user.id}`}>{user.username}</NavLink>\n      </li>\n    );\n  });\n\n  return (\n    <>\n      <h1>User List: </h1>\n      <ul>{userComponents}</ul>\n    </>\n  );\n}\n\nexport default UsersList;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nfunction User() {\n  const [user, setUser] = useState({});\n  const { userId }  = useParams();\n\n  useEffect(() => {\n    if (!userId) {\n      return;\n    }\n    (async () => {\n      const response = await fetch(`/api/users/${userId}`);\n      const user = await response.json();\n      setUser(user);\n    })();\n  }, [userId]);\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <ul>\n      <li>\n        <strong>User Id</strong> {userId}\n      </li>\n      <li>\n        <strong>Username</strong> {user.username}\n      </li>\n      <li>\n        <strong>Email</strong> {user.email}\n      </li>\n    </ul>\n  );\n}\nexport default User;\n","import React, { useState } from 'react';\nimport { Modal } from '../../context/Modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport * as data_funcs from '../../store/data_store';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst CreateCommunityForm = () => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [showModal, setShowModal] = useState(false);\n  const [communityName, setCommunityName] = useState('');\n  const [communityImage, setCommunityImage] = useState('');\n  const [communityInfo, setCommunityInfo] = useState('');\n  // const [communityMemberTitle, setCommunityMemberTitle] = useState('');\n  const [errors, setErrors] = useState([]);\n\n  const userId = useSelector(state => state.session.user?.id);\n\n  const createCommunity = async (e) => {\n\n    e.preventDefault()\n\n    const community = {\n      'name': communityName.trim(),\n      'image': communityImage.trim(),\n      'info': communityInfo.trim()\n    }\n\n    const data = await dispatch(data_funcs.create_community(community));\n\n    if (data) {\n      setErrors(data);\n    } else {\n      setShowModal(false);\n      setCommunityName('');\n      setCommunityImage('');\n      setCommunityInfo('');\n      history.push(`${baseUrl}/`);\n    }\n\n  };\n\n\n\n  return (\n    <>\n      <button onClick={() => setShowModal(true)} style={{\"backgroundColor\": \"#FFF\", \"color\": \"#0079D3\", \"borderColor\": \"#0079D3\"}} className=\"main-links\">Create Community</button>\n      {showModal && userId && (\n      <Modal onClose={() => setShowModal(false)} currentId={'new-com-modal'}>\n        <div className='com-form-cont'>\n          <div className='com-form-header-cont'>\n            <h1 className='com-form-header'>Create a community</h1>\n            <svg onClick={() => setShowModal(false)} style={{'cursor':'pointer'}} viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" className=\"menu-close\">\n              <polygon fill=\"inherit\" points=\"11.649 9.882 18.262 3.267 16.495 1.5 9.881 8.114 3.267 1.5 1.5 3.267 8.114 9.883 1.5 16.497 3.267 18.264 9.881 11.65 16.495 18.264 18.262 16.497\"></polygon>\n            </svg>\n          </div>\n          <form onSubmit={createCommunity}>\n            <div>\n              {errors.map((error, ind) => (\n                <div key={ind}>{error}</div>\n              ))}\n            </div>\n            <div className='com-form-name'>\n              <label className='com-form-header' htmlFor='name'>Name</label>\n              <div style={{'marginBottom':'16px'}} className='light-text'>Community names are case sensitive for display only, they must be unique and cannot be changed.</div>\n              <div className='com-form-name com-name-input'>\n                <span id='prefix-text'>s/</span>\n                <input\n                  name='name'\n                  type='text'\n                  value={communityName}\n                  onChange={(e) => setCommunityName(e.target.value)}\n                  maxLength='40'\n                  required\n                  autoComplete='off'\n                />\n              </div>\n              <div style={{'margin':'16px 0'}} className='light-text'>{40 - communityName.length} Characters remaining</div>\n            </div>\n            <div className='com-form-name'>\n              <label className='com-form-header' htmlFor='image'>Community Image</label>\n              <div style={{'marginBottom':'16px'}} className='light-text'>Will only accept image url's of .jpg, .jpeg, .png, or .gif</div>\n              <input\n                name='image'\n                type='text'\n                placeholder='Optional image for your community'\n                value={communityImage}\n                onChange={(e) => setCommunityImage(e.target.value)}\n                autoComplete='off'\n              />\n            </div>\n            <div className='com-form-name'>\n              <label style={{'marginBottom':'16px'}} className='com-form-header' htmlFor='info'>Community Info</label>\n              <textarea\n                name='info'\n                rows='15'\n                cols='75'\n                placeholder='Let people know what your community is about'\n                value={communityInfo}\n                onChange={(e) => setCommunityInfo(e.target.value)}\n                required\n              />\n            </div>\n            {/* <div>\n              <label htmlFor='title'>Community Member Title</label>\n              <input\n                name='title'\n                type='text'\n                placeholder='Title for your users'\n                value={communityMemberTitle}\n                onChange={(e) => setCommunityMemberTitle(e.target.value)}\n                required\n              />\n            </div> */}\n            <div className='com-form-btn-bar'>\n              <button id='com-cancel-btn' className='main-links btn-style' onClick={() => setShowModal(false)}>Cancel</button>\n              <button id='com-create-btn' className='main-links btn-style' type='submit'>Create</button>\n            </div>\n          </form>\n        </div>\n      </Modal>\n      )}\n      {showModal && !userId && (\n      <Redirect to={`${baseUrl}/login`} />\n      )}\n    </>\n  )\n\n};\n\n\nexport default CreateCommunityForm;","import React, { useState } from 'react';\nimport { Modal } from '../../context/Modal';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, Redirect } from 'react-router-dom';\n\nimport * as data_funcs from '../../store/data_store';\nimport './PostForm.css';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst CreatePostForm = () => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [showModal, setShowModal] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const [content, setContent] = useState('');\n  const [postTitle, setPostTitle] = useState('');\n  const [communityName, setCommunityName] = useState('');\n\n\n\n\n\n  const userId = useSelector(state => state.session.user?.id);\n  const communityObj = useSelector(state => state.data_store?.all_communities);\n  const communities = Object.values(communityObj);\n  const communityId = useSelector(state => state.data_store?.all_communities[communityName.toLowerCase()]);\n\n  const handlePost = async (e) => {\n\n    e.preventDefault();\n  \n    let id;\n\n    try {\n      id = communityId.id;\n    } catch {\n      return setErrors(['Community does not exist']);\n    }\n\n    const post = {\n      'name': communityName,\n      'community': id,\n      'userId': userId,\n      'content': content.trim(),\n      'title': postTitle.trim()\n    };\n\n    const data = await dispatch(data_funcs.create_post(post));\n\n    if (data) {\n      setErrors(data);\n    } else {\n      history.push(`${baseUrl}/s/${communityName}`);\n    }\n  }\n\n  // TODO text editor \n\n  // const handleKeyCommand = () => {\n\n  // };\n\n  \n  return (\n    <>\n      <button onClick={() => setShowModal(true)} style={{\"backgroundColor\": \"#0079D3\", \"color\": \"#FFF\", \"borderColor\": \"#0079D3\"}} className=\"main-links\">Create Post</button>\n      {showModal && userId && (\n      <Modal onClose={() => setShowModal(false)}>\n        <div className='post-form-cont'>\n          <svg onClick={() => setShowModal(false)} viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" class=\"menu-close\">\n            <polygon fill=\"inherit\" points=\"11.649 9.882 18.262 3.267 16.495 1.5 9.881 8.114 3.267 1.5 1.5 3.267 8.114 9.883 1.5 16.497 3.267 18.264 9.881 11.65 16.495 18.264 18.262 16.497\"></polygon>\n          </svg>\n\n          <form className='post-form' onSubmit={handlePost}>\n            <div id='community-dropdown'>\n              <fieldset id='community-list'>\n                <select onChange={(e) => setCommunityName(e.target.value)} required name='communities' style={{'border':'none', 'outline':'none'}}>\n                  <option value=''>Choose a community</option>\n                  {communities && communities.map((community) => {\n                    return (\n                      <>\n                        <option name={community?.name} className='profile-btn-item' key={community?.id} value={community?.name.toLowerCase()}>{community?.name}</option>\n                      </>\n                    )\n                  })}\n                </select>\n              </fieldset>\n              {/* <label htmlFor='name'></label>\n              <textarea\n                name='name'\n                className='post-input'\n                rows='1'\n                cols='40'\n                placeholder='Community name'\n                value={communityName}\n                onChange={(e) => setCommunityName(e.target.value)}\n                required\n              /> */}\n            </div>\n            <div>\n              {errors.map((error, ind) => (\n                <div key={ind}>{error}</div>\n              ))}\n            </div>\n\n            <div>\n              <label htmlFor='title'></label>\n              <textarea\n                name='title'\n                className='post-input'\n                id='post-title'\n                rows='1'\n                cols='75'\n                placeholder='Title'\n                value={postTitle}\n                onChange={(e) => setPostTitle(e.target.value)}\n                required\n              />\n            </div>\n\n            <div>\n              <label htmlFor='content'></label>\n              <textarea\n                name='content'\n                className='post-input'\n                id='post-content'\n                rows='15'\n                cols='75'\n                placeholder='Text (optional)'\n                value={content}\n                onChange={(e) => setContent(e.target.value)}\n              />\n            </div>\n\n            <div>\n\n            </div>\n\n            <button className='main-links btn-style' type='submit'>Submit</button>\n          </form>\n\n        </div>\n      </Modal>\n      )}\n      {showModal && !userId && (\n      <Redirect to={`${baseUrl}/login`} />\n      )}\n    </>\n  )\n};\n\n\nexport default CreatePostForm;","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { NavLink, useLocation, useHistory } from \"react-router-dom\";\n\n// import { io } from 'socket.io-client';\n\n\nimport * as data_funcs from '../../store/data_store';\nimport CreateCommunityForm from \"../Communities/CreateCommunityForm\";\nimport CreatePostForm from \"../Posts/CreatePostForm\";\n\nimport './HomePage.css'\nimport '../Communities/Community.css'\n\n// let socket;\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst HomePage = () => {\n\n  const dispatch = useDispatch();\n  const history = useHistory()\n  const [loaded, setLoaded] = useState(false);\n  const location = useLocation().pathname;\n\n  \n  const user = useSelector(state => state.session?.user);\n  \n  useEffect(() => {\n    (async() => {\n      await dispatch(data_funcs.get_communities());\n      if (user) await dispatch(data_funcs.get_user_votes(user));\n      setLoaded(true);\n    })();\n  }, [dispatch, user]);\n  \n\n  // *** Possible future socket use ***\n\n  // useEffect(() => {\n\n  //   socket = io();\n\n  //   socket.on(\"votes\", async ({post}) => {\n\n\n  //     const scoreCont = document.getElementById(`counter-${post}`)\n\n  //     // await dispatch(data_funcs.get_communities());\n  //     const {score} = await dispatch(data_funcs.current_post_score(post));\n  //     scoreCont.innerText = score;\n\n  //   });\n\n\n  //   return (() => {\n  //     socket.disconnect()\n  //   })\n\n  // }, [dispatch]);\n\n\n\n  const communityObj = useSelector(state => state.data_store.all_communities);\n  const votes = useSelector(state => state.data_store.user_votes.post_votes);\n  const communities = Object.values(communityObj);\n\n  \n  if (!loaded) {\n    return null;\n  }\n\n\n\n\n  const saidIt = async (e) => {\n\n    e.preventDefault();\n\n    const [name, id] = e.target.id.split(':');\n    const voiceMessage = await new SpeechSynthesisUtterance();\n    voiceMessage.text = await communityObj[name.toLowerCase()].posts[id].title;\n    await window.speechSynthesis.speak(voiceMessage);\n\n  };\n\n  const handleVote = async (post, val) => {\n\n    if (!user) {\n      return history.push(`${baseUrl}/login`)\n    }\n\n    const upArrow = document.getElementById(`up:${post}`);\n    const downArrow = document.getElementById(`down:${post}`);\n    const scoreCont = document.getElementById(`counter-${post}`)\n\n\n    if (val === true) {\n\n      upArrow.getAttribute('fill') === 'none' ? upArrow.setAttribute('fill', '#ff4500') : upArrow.setAttribute('fill', 'none');\n      if (downArrow.getAttribute('fill') !== 'none') downArrow.setAttribute('fill', 'none');\n\n\n    } else if (val === false) {\n\n      downArrow.getAttribute('fill') === 'none' ? downArrow.setAttribute('fill', '#0079D3') : downArrow.setAttribute('fill', 'none');\n      if (upArrow.getAttribute('fill') !== 'none') upArrow.setAttribute('fill', 'none');\n    }\n\n    const vote = {\n      userId: user.id,\n      postId: post,\n      voteType: val\n    };\n\n    await dispatch(data_funcs.post_vote(vote));\n    await dispatch(data_funcs.get_communities());\n    const {score} = await dispatch(data_funcs.current_post_score(post));\n    scoreCont.innerText = score;\n\n    // socket.emit(\"votes\", {post});\n  };\n\n  \n  return (\n\n    <div className=\"main-cont\">\n\n\n      <div className=\"post-cont\">\n\n        <div className=\"post-cont-topbar\">\n          <button className=\"post-links light-text\"><i className=\"fa-solid fa-burst fa-lg\"></i>  New</button>\n          <button className=\"post-links light-text\"><i className=\"fa-solid fa-arrow-up-from-bracket fa-lg\"></i>  Top</button>\n        </div>\n\n        <div className=\"medium-text\" style={{'fontWeight':'bold', 'opacity':'0.7'}}>Popular posts</div>\n\n        <div style={{'paddingTop': '20px'}}>\n\n          {loaded && communities?.map((community) => {\n            let posts = Object.values(community.posts).reverse();\n            return posts?.map((post) => {\n              // for (const [key, post] of Object.entries(community?.posts)) {\n              return (\n                <>\n                  <div key={`key:${post.id}`} className=\"single-post\">\n                    <div className=\"single-post-btn-bar\">\n\n                      <div className={`vote-cont-${post?.id}`} style={{'display': 'flex', 'flexDirection':'column', 'justifyContent': 'center', 'alignItems':'center'}}>\n\n                        <svg onClick={() => handleVote(post?.id, true)} className=\"vote-buttons\" id=\"upVoteButton\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <path id={`up:${post?.id}`} d=\"M12 4 3 15h6v5h6v-5h6z\" className=\"icon_svg-stroke icon_svg-fill\" strokeWidth=\"1.5\" stroke=\"#666\" fill={votes !== undefined && post?.id in votes && votes[post?.id]?.vote_type === true ? '#ff4500' : 'none'} strokeLinejoin=\"round\"></path>\n                        </svg>\n\n                        <div style={{'cursor':'auto'}} id={`counter-${post?.id}`}>{post?.vote_score}</div>\n\n                        <svg onClick={() => handleVote(post?.id, false)} className=\"vote-buttons\" id=\"downVoteButton\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <path id={`down:${post?.id}`} d=\"m12 20 9-11h-6V4H9v5H3z\" className=\"icon_svg-stroke icon_svg-fill\" stroke=\"#666\" fill={votes !== undefined && post?.id in votes && votes[post?.id]?.vote_type === false ? '#0079D3' : 'none'} strokeWidth=\"1.5\" strokeLinejoin=\"round\"></path>\n                        </svg>\n\n                      </div>\n\n                      <div></div>\n\n                      <div className=\"sound-cont\">\n                        <button onClick={saidIt} style={{'background':'none', 'border':'none', 'color': 'grey'}}><i id={`${community.name}:${post?.id}`} className=\"fa-solid fa-volume-high\"></i></button>\n                      </div>\n\n                    </div>\n\n                    <div className=\"single-post-content\">\n                      <div><NavLink to={`${baseUrl}/s/${community?.name}`}><span className=\"bold-text\">{`s/${community?.name}`}</span></NavLink> • <span className=\"light-text\" style={{'cursor':'auto'}}>Posted by u/{post?.user_name}</span></div>\n                      <NavLink to={{pathname: `${baseUrl}/s/${community?.name}/${post?.id}/${post?.title.replaceAll(' ', '_')}`, state:{location}}}>\n                      <p className=\"medium-text\" style={{'fontWeight': 'bold'}}>{post?.title}</p>\n                      <div className=\"text-post-content\">\n                        <p className=\"light-text\">{post?.content}</p>\n                      </div>\n                      </NavLink>\n                      <div className=\"single-post-footer\">\n                        <i className=\"fa-regular fa-message fa-lg\"></i>\n                        <span style={{'opacity':'1', 'cursor':'auto'}} className=\"light-text\">  {post?.comments.length} Comments</span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                </>\n              )\n            })\n          })}\n\n        </div>\n\n      </div>\n\n      <div className=\"side-page-cont\">\n\n        <div className=\"side-page\">\n\n          <div className='side-header'>\n\n            <div id=\"banner\">\n              <h2 className=\"bold-text\" style={{'color': '#fff', 'fontSize': '16px'}}>Top Communities</h2>\n            </div>\n\n            <ol style={{\"listStyle\":\"none\"}}>\n\n              {loaded && communities?.map((community, ind) => {\n                if (ind >= 5) return false;\n                return(\n                  <li className=\"top-com-list\" key={community?.name}>\n                      <NavLink className='bold-text' to={`${baseUrl}/s/${community?.name}`}>\n                      <img className='community-logo' alt='community-logo' src={`${community?.community_image || 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABFZJREFUWEfVWU1oVFcU/m6CJRKiCQE1am1GY8VoNNqdUrW4DSSFrETQoi4UQiLiz0iL2oKjltJphbrQ0hSkq4Ij1KU0UXSnHR0bUYOT+DcqhmSU4KBMnnzv5SVv3rv3/WU6pGeTkHfuud89P98590YgrERvfQ6UbwS0zyCwDBrmA6LKMKe9gcAzaLgHiBtAvhex1VfDbCUCLTr0bwNEfhcgtgBYGGgt8ATQ/oBWfhYnVvT7XesP4OHUXGg4AmC3X8MeemcgcAzHm1542fMGGE3tAPADgNlexgJ+zwLYh1jTr27r3AFGU78U0WsqHGcQa9qj+qgGeOh2AkK0BvRKOHVNu4gTq9pki+UASwnORKUA6QRYmrD6DnchQKMgzoWLk7GqvuYjpPd/imQmh2TmLZLP+DOHwZH3uLB1EZrrKhC/NoS9lzKqbXZaC2cSoEEl96ZarW2Ns3QgBNBcN1MHtLquwgFmzel+HbhEsjrxj1PQJMAihfbo5jnYtLgSm86mC/ZObF2E1sZZE3+LfH8fA8PvPENtANQ7xNiDqYTWXNuzK4Keh6M4evllgTmGvrt9ATZGKnHs8kvHd8feWtlSdhwDYPT2SUAcKAZA7fhKfHn+ERJ9r6doTjuF2KqD4wBTj0P0VgcA5ts/HQ3wCJ9f4E8Qa/pYQJ9Kyq74XeWmt31tDeIt81D97d1imAMwtkEgeudrQPsurEXm1ifVM4zCiFSivmYGui49x+DwO1WVBthKfCMQTV0AIG0zKkvVFeXoXF+LrvW14O9uQiqJX3uF32+OBAA2oZoQOJzqg4blstXc/MeWeSC3sTK5CTnNDzC7PVIKCbo3PYojm+foByN4VvRILi8HL3CXHuTRpKNUsqNBSrJhXKFaQ5AkbYVkmYN5QCuzK5gVWUwwKlvqriLGlACZ9H/vjEhtsq92/ZXRw87w/9a+QKrHdkcdtjxW92xFvnoAVId44MAyvULt8tP1IR2gKbJUuJXJodkSuu72hdi2ttphi4etP8URQCpZzyJh67I3ez8AL/a9Rtv5RxO7xlvq0LmutgAFwTX/3O9ZJK40w+bPqrMKK5Jc1/twFK2NVaB3ZEKABEquNEctqx4r2j5U2OwkPIlaBjBI4ZBCVFxpj4TTrk7U7q3uv6zmr/58iu6bwy7nZaujRN2HBeYhxyS7kLhliW/VY4itc6D5zaM4qDY+LOgA3cct5lCyY4mDJr44l8bA8HswDayTMyuYBMyZkL2Z+WcPs8tEPX4G67jlY2AlAHrSzmXkufj1IRCUOSHzQHpLXFerDxFWyebyenVznasUDKxGmD0v6fQCp2JZyPwUDquW/Km4i1hNTFzmQ12a6BXOfm2NVcruYM9DetnTa8YixaXJ8GLgayfBMvz0LkNLMUPdkx71C8p6HsW101TxEWo/4Qyp43in+R8+fZhHL+X7TODHo9KGO+Tz2yTIafyAaYKc1k/A1nKcto/oMs4o0b8hPgAAePkgmneDRQAAAABJRU5ErkJggg=='}`} width='20px' height='20px'></img>\n                        s/{community?.name}\n                      </NavLink>\n                  </li>\n\n                )\n              })}\n\n            </ol>\n\n          </div>\n\n          <div className=\"main-spacer\"></div>\n\n          <div className=\"side-header\">\n\n            <div className=\"p-home-banner\"></div>\n\n            <div className=\"personal-home-cont\">\n\n              <div className=\"p-home-header\">\n                <div id=\"p-home-moogle\"></div>\n                <p className=\"bold-text\">Home</p>\n              </div>\n\n              <div>\n                <p>Your personal Said.it frontpage. Come here to check in with your favorite communities, and hear them too!</p>\n              </div>\n\n              <div id=\"create-links\">\n                <CreatePostForm />\n                <CreateCommunityForm />\n              </div>\n\n            </div>\n\n\n\n          </div>\n\n          <div className=\"main-spacer\"></div>\n\n          <div className='side-header' style={{'position':'sticky', 'top':'50px'}}>\n              <div className='bold-text com-banner' style={{'justifyContent':'center'}}>\n                Technologies Used & Links\n              </div>\n              <ul className='light-text'>\n                <li key='react'>React</li>\n                <li key='redux'>Redux</li>\n                <li key='python'>Python</li>\n                <li key='flask'>Flask SQLAlchemy</li>\n                <li key='psql'>PostgreSQL</li>\n              </ul>\n              <div style={{'textAlign':'center'}} className=\"light-text\">Developed by Jesse Christensen</div>\n              <div style={{'display':'flex', 'flexDirection':'row', 'textAlign':'center'}}>\n                <a href='https://www.linkedin.com/in/jesse-christensen-204801232/'><div className=\"bold-text\"><i className=\"fa-brands fa-linkedin\"></i>  LinkedIn</div></a>\n                <a href='https://github.com/jess-chris'><div className=\"bold-text\"><i className=\"fa-brands fa-github-square\"></i>   GitHub</div></a>\n              </div>\n            </div>\n\n\n        </div>\n\n\n      </div>\n\n\n    </div>\n\n\n\n\n  )\n\n\n\n};\n\n\nexport default HomePage;","import React, { useState } from 'react';\nimport { Modal } from '../../context/Modal';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from 'react-router-dom';\n\nimport * as data_funcs from '../../store/data_store';\n\nimport './CommunityModal.css';\n\nconst EditCommunityForm = ({value}) => {\n  \n  const dispatch = useDispatch();\n  const { name } = useParams();\n  const community = useSelector(state => state.data_store.all_communities[name.toLowerCase()]);\n  \n  \n  const [showModal, setShowModal] = useState(value ? true : false);\n  const [communityName, ] = useState(community?.name);\n  const [communityImage, setCommunityImage] = useState(community?.community_image);\n  const [communityInfo, setCommunityInfo] = useState(community?.community_info);\n  // const [communityMemberTitle, setCommunityMemberTitle] = useState(community?.member_title);\n  const [id] = useState(community?.id);\n  const [formErrors, setFormErrors] = useState([]);\n\n  const handleEdit = async (e) => {\n    e.preventDefault();\n\n    const community = {\n      // 'name': communityName,\n      // 'title': communityMemberTitle,\n      'image': communityImage.trim(),\n      'info': communityInfo.trim(),\n      id\n    }\n\n    const data = await dispatch(data_funcs.edit_community(community));\n\n    if (data) {\n      setFormErrors(data);\n    } else {\n    setShowModal(false);\n    await dispatch(data_funcs.get_communities());\n    \n    window.location.reload(false);\n    }\n  }\n\n\n\n  return (\n    <>\n      {/* <div className='btn-style profile-btn-item' onClick={() => setShowModal(true)}>Edit</div> */}\n      {showModal && (\n        <Modal onClose={() => setShowModal(false)} currentId={'new-com-modal'}>\n        <div className='com-form-cont'>\n          <div className='com-form-header-cont'>\n            <h1 className='com-form-header'>Create a community</h1>\n            <svg onClick={() => setShowModal(false)} viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" className=\"menu-close\">\n              <polygon fill=\"inherit\" points=\"11.649 9.882 18.262 3.267 16.495 1.5 9.881 8.114 3.267 1.5 1.5 3.267 8.114 9.883 1.5 16.497 3.267 18.264 9.881 11.65 16.495 18.264 18.262 16.497\"></polygon>\n            </svg>\n          </div>\n          <form onSubmit={handleEdit}>\n            <div>\n              {formErrors.map((error, ind) => (\n                <div key={ind}>{error}</div>\n              ))}\n            </div>\n            <div className='com-form-name'>\n              <label className='com-form-header' htmlFor='name'>Name</label>\n              <div style={{'marginBottom':'16px'}} className='light-text'>Community names are case sensitive for display only, they must be unique and cannot be changed.</div>\n              <div className='com-form-name com-name-input'>\n                <span id='prefix-text'>s/</span>\n                <input\n                  name='name'\n                  type='text'\n                  value={communityName}\n                  maxLength='40'\n                  disabled={true}\n                />\n              </div>\n              <div style={{'margin':'16px 0'}} className='light-text'>{40 - communityName.length} Characters remaining</div>\n            </div>\n            <div className='com-form-name'>\n              <label className='com-form-header' htmlFor='image'>Community Image</label>\n              <div style={{'marginBottom':'16px'}} className='light-text'>Will only accept image url's of .jpg, .jpeg, .png, or .gif</div>\n              <input\n                name='image'\n                type='text'\n                placeholder='Optional image for your community'\n                value={communityImage}\n                onChange={(e) => setCommunityImage(e.target.value)}\n                autoComplete='off'\n              />\n            </div>\n            <div className='com-form-name'>\n              <label style={{'marginBottom':'16px'}} className='com-form-header' htmlFor='info'>Community Info</label>\n              <textarea\n                name='info'\n                rows='15'\n                cols='75'\n                placeholder='Let people know what your community is about'\n                value={communityInfo}\n                onChange={(e) => setCommunityInfo(e.target.value)}\n                required\n              />\n            </div>\n            {/* <div>\n              <label htmlFor='title'>Community Member Title</label>\n              <input\n                name='title'\n                type='text'\n                placeholder='Title for your users'\n                value={communityMemberTitle}\n                onChange={(e) => setCommunityMemberTitle(e.target.value)}\n                required\n              />\n            </div> */}\n            <div className='com-form-btn-bar'>\n              <button id='com-cancel-btn' className='main-links btn-style' onClick={() => setShowModal(false)}>Cancel</button>\n              <button id='com-create-btn' className='main-links btn-style' type='submit'>Submit</button>\n            </div>\n          </form>\n        </div>\n      </Modal>\n      )}\n    </>\n  )\n};\n\n\nexport default EditCommunityForm;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams, NavLink, useLocation, Redirect } from 'react-router-dom';\nimport * as data_funcs from '../../store/data_store';\nimport EditCommunityForm from './EditCommunityForm';\n\nimport './Community.css';\nimport LoginForm from '../auth/LoginForm';\nimport SignUpForm from '../auth/SignUpForm';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst ViewCommunity = () => {\n\nconst dispatch = useDispatch();\nconst [loaded, setLoaded] = useState(false);\nconst [content, setContent] = useState('');\nconst [postTitle, setPostTitle] = useState('');\nconst [showEdit, setShowEdit] = useState(false);\nconst [showComMenu, setShowComMenu] = useState(false);\nconst [errors, setErrors] = useState([]);\nconst history = useHistory();\nconst location = useLocation().pathname;\nconst { name } = useParams();\n\nconst user = useSelector(state => state.session?.user);\n\nuseEffect(() => {\n  (async() => {\n    await dispatch(data_funcs.get_communities());\n    await dispatch(data_funcs.get_user_votes(user));\n    setLoaded(true);\n  })();\n}, [dispatch, user]);\n\n\nconst userId = useSelector(state => state.session.user?.id);\nconst community = useSelector(state => state.data_store.all_communities[name.toLowerCase()]);\nconst votes = useSelector(state => state.data_store.user_votes.post_votes)\n\n\nconst openMenu = () => {\n  if (showComMenu) return;\n  setShowComMenu(true);\n};\n\nconst openEdit = () => {\n  if (showEdit) return;\n  setShowEdit(true);\n};\n\nuseEffect(() => {\n  if (!showEdit) return;\n  \n  const closeEdit = () => {\n    setShowEdit(false);\n  };\n  \n  const home = document.querySelector('.community-page');\n  home.addEventListener('click', closeEdit);\n  \n  return () => home.removeEventListener(\"click\", closeEdit);\n}, [showEdit]);\n\nuseEffect(() => {\n  if (!showComMenu) return;\n  \n  const closeMenu = () => {\n    setShowComMenu(false);\n  };\n  \n  document.addEventListener('click', closeMenu);\n  \n  return () => document.removeEventListener(\"click\", closeMenu);\n}, [showComMenu]);\n\nif (!loaded) {\n  return null;\n}\n\nif (!community) {\n  return <Redirect to={`${baseUrl}/`} />;\n};\n\nconst posts = Object.values(community.posts).reverse();\n\nconst handleDelete = (e) => {\n\n  e.preventDefault();\n\n  const data = {\n    community_id: community.id\n  };\n\n  dispatch(data_funcs.delete_community(data));\n  history.push(`${baseUrl}/`);\n};\n\nconst handlePost = async (e) => {\n\n  e.preventDefault();\n  const post = {\n    'name': community.name,\n    'community': community.id,\n    'userId': userId,\n    'title': postTitle.trim(),\n    'content': content.trim()\n  };\n  const data = await dispatch(data_funcs.create_post(post));\n  if (data) {\n    setErrors(data);\n  } else {\n    setContent('');\n    setPostTitle('');\n    setErrors([]);\n    await dispatch(data_funcs.get_communities());\n  }\n\n};\n\n\n\nconst saidIt = async (e) => {\n\n  e.preventDefault();\n\n  const id = e.target.id;\n  const voiceMessage = await new SpeechSynthesisUtterance();\n  voiceMessage.text = await community.posts[id].title;\n  await window.speechSynthesis.speak(voiceMessage);\n\n\n};\n\n\nconst handleVote = async (post, val) => {\n\n  if (!user) {\n    return history.push(`${baseUrl}/login`);\n  }\n\n  const upArrow = document.getElementById(`up:${post}`);\n  const downArrow = document.getElementById(`down:${post}`);\n  const scoreCont = document.getElementById(`counter-${post}`)\n\n\n  if (val === true) {\n\n    upArrow.getAttribute('fill') === 'none' ? upArrow.setAttribute('fill', '#ff4500') : upArrow.setAttribute('fill', 'none');\n    if (downArrow.getAttribute('fill') !== 'none') downArrow.setAttribute('fill', 'none');\n\n\n  } else if (val === false) {\n\n    downArrow.getAttribute('fill') === 'none' ? downArrow.setAttribute('fill', '#0079D3') : downArrow.setAttribute('fill', 'none');\n    if (upArrow.getAttribute('fill') !== 'none') upArrow.setAttribute('fill', 'none');\n  }\n\n  const vote = {\n    userId: user.id,\n    postId: post,\n    voteType: val\n  };\n\n  await dispatch(data_funcs.post_vote(vote));\n  const {score} = await dispatch(data_funcs.current_post_score(post));\n  scoreCont.innerText = score;\n};\n\nconst defaultLogo = (e) => {\n  e.preventDefault();\n\n  document.querySelector('#community-logo > img').remove();\n\n  document.getElementById('community-logo').classList.toggle('default-logo');\n\n};\n\n\n\n\nreturn (\n  \n  <div className='community-page'>\n\n  {showEdit && (\n  <EditCommunityForm value={true}/>\n  )}\n    <span className='com-header'></span>\n    <div className='com-header-cont'>\n    </div>\n\n    <div className='main-com-cont'>\n\n      <div className='com-menu-bar'>\n        <div style={{'display':'flex', 'flexDirection':'row', 'alignItems':'center', 'justifyContent':'center', 'gap':'10px'}}>\n            {!community?.community_image && (\n            <div id='community-logo' className='default-logo'></div>\n              // <img style={{'height':'40px', 'width':'40px', 'borderRadius': '50%'}} alt='default-logo' id='community-logo' src='public/assets/default.png'></img>\n              // <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" class=\"_1O4jTk-dZ-VIxsCuYB6OR8 \" width=\"40\" height=\"48\"><g><circle fill=\"#0079D3\" cx=\"10\" cy=\"10\" r=\"10\"></circle><path fill=\"#FFFFFF\" d=\"M16.67,10A1.46,1.46,0,0,0,14.2,9a7.12,7.12,0,0,0-3.85-1.23L11,4.65,13.14,5.1a1,1,0,1,0,.13-0.61L10.82,4a0.31,0.31,0,0,0-.37.24L9.71,7.71a7.14,7.14,0,0,0-3.9,1.23A1.46,1.46,0,1,0,4.2,11.33a2.87,2.87,0,0,0,0,.44c0,2.24,2.61,4.06,5.83,4.06s5.83-1.82,5.83-4.06a2.87,2.87,0,0,0,0-.44A1.46,1.46,0,0,0,16.67,10Zm-10,1a1,1,0,1,1,1,1A1,1,0,0,1,6.67,11Zm5.81,2.75a3.84,3.84,0,0,1-2.47.77,3.84,3.84,0,0,1-2.47-.77,0.27,0.27,0,0,1,.38-0.38A3.27,3.27,0,0,0,10,14a3.28,3.28,0,0,0,2.09-.61A0.27,0.27,0,1,1,12.48,13.79Zm-0.18-1.71a1,1,0,1,1,1-1A1,1,0,0,1,12.29,12.08Z\"></path></g></svg>\n            )}\n            {community?.community_image && (\n              <div id='community-logo' className='com-logo'>\n                <img alt='community-logo' style={{'height':'40px', 'width':'40px', 'borderRadius': '50%'}} id='community-logo' onError={defaultLogo} src={community.community_image}></img>\n              </div>\n            )}\n          <h1 className='bold-text' style={{'fontSize': '18px'}}>\n            s/{community?.name}\n          </h1>\n        </div>\n        <div style={{'minWidth':'235px'}} className=\"user-profile\">\n        {userId && userId === community?.owner && (\n          <button className=\"user-profile-btn\" onClick={openMenu}>\n          <i className=\"fa-solid fa-gear\">  </i>\n            <div className=\"drop-down-menu\">\n            {community.name} Settings\n              {showComMenu && (\n                <div className=\"profile-dropdown-cont\">\n                  <div className=\"profile-dropdown\">\n                    <div className='btn-style profile-btn-item' onClick={openEdit}>Edit</div>\n                    <div className=\"profile-btn-item\">\n                      <div className='btn-style profile-btn-item' onClick={handleDelete}>Delete</div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n            <i className=\"fa-solid fa-chevron-down\"></i>\n          </button>\n        )}\n        </div>\n      </div>\n\n    </div>\n\n    <div className='com-content'>\n\n      <div className='com-post-cont'>\n\n          {userId && userId && (\n          <>\n          <div className=\"create-post-cont\">\n            <div className='create-post-top'>\n              <h3 className='bold-text'>Create Post</h3>\n            </div>\n            <div>\n              {errors.map((error, ind) => (\n                <div key={ind}>{error}</div>\n              ))}\n            </div>\n            <div className='create-post-body'>\n              <div className='create-post-title'>\n                <div>\n                  <textarea \n                    name='title'\n                    placeholder='Title'\n                    value={postTitle}\n                    onChange={(e) => setPostTitle(e.target.value)}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className='create-post-content'>\n                <div>\n                  <textarea \n                    id='textPost'\n                    name='content'\n                    placeholder='Text (optional)'\n                    value={content}\n                    onChange={(e) => setContent(e.target.value)}\n                  />\n                </div>\n              </div>\n\n              <div className='create-post-bar'>\n\n                <div id='post-btn'>\n                  <button onClick={handlePost} className='main-links btn-style' type='submit'>Post</button>\n                </div>\n\n              </div>\n\n            </div>\n          </div>\n          </>\n          )}\n\n          {!userId && (\n          <>\n            <div className=\"create-post-cont\">\n\n              <div className='post-placeholder'>\n                <div style={{'fontWeight':'bold'}} className='light-text'>Log in or sign up to leave a post</div>\n                <div className='post-placeholder-btn'>\n                  <LoginForm />\n                  <SignUpForm />\n                </div>\n              </div>\n            </div>\n\n          </>\n          )}\n\n        <div className=\"post-cont\">\n\n\n          {loaded && posts?.map((post) => {\n            return (\n              <>\n                <div key={post?.id} className=\"single-post\">\n                  <div className=\"single-post-btn-bar\">\n                    <div className={`vote-cont-${post?.id}`} style={{'display': 'flex', 'flexDirection':'column', 'justifyContent': 'center', 'alignItems':'center'}}>\n                      <svg onClick={() => handleVote(post?.id, true)} className=\"vote-buttons\" id=\"upVoteButton\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path id={`up:${post?.id}`} d=\"M12 4 3 15h6v5h6v-5h6z\" className=\"icon_svg-stroke icon_svg-fill\" strokeWidth=\"1.5\" stroke=\"#666\" fill={votes !== undefined && post?.id in votes && votes[post.id]?.vote_type === true ? '#ff4500' : 'none'} strokeLinejoin=\"round\"></path>\n                      </svg>\n                      <div style={{'cursor':'auto'}} id={`counter-${post?.id}`}>{post?.vote_score}</div>\n                      <svg onClick={() => handleVote(post?.id, false)} className=\"vote-buttons\" id=\"downVoteButton\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path id={`down:${post?.id}`} d=\"m12 20 9-11h-6V4H9v5H3z\" className=\"icon_svg-stroke icon_svg-fill\" stroke=\"#666\" fill={votes !== undefined && post?.id in votes && votes[post.id]?.vote_type === false ? '#0079D3' : 'none'} strokeWidth=\"1.5\" strokeLinejoin=\"round\"></path>\n                      </svg>\n                    </div>\n                    <div></div>\n                    <div className=\"sound-cont\">\n                      <button onClick={saidIt} style={{'background':'none', 'border':'none', 'color': 'grey'}}><i id={`${post?.id}`} className=\"fa-solid fa-volume-high\"></i></button>\n                    </div>\n                  </div>\n                  <div className=\"single-post-content\">\n                    <p className='light-text' style={{'cursor':'auto'}}>Posted by u/{post?.user_name}</p>\n                    <NavLink to={{pathname: `${baseUrl}/s/${community?.name}/${post?.id}/${post?.title.replaceAll(' ', '_')}`, state:{location}}}>\n                    <p className=\"medium-text\" style={{'fontWeight': 'bold'}}>{post?.title}</p>\n                    <div className=\"text-post-content\">\n                      <p className=\"light-text\">{post?.content}</p>\n                    </div>\n                    </NavLink>\n                    <div className=\"single-post-footer\">\n                      <i className=\"fa-regular fa-message fa-lg\"></i>\n                      <span style={{'opacity':'1', 'cursor':'auto'}} className=\"light-text\">  {post?.comments.length} Comments</span>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )\n          })}\n\n        </div>\n      </div>\n\n      <div className='side-page-cont'>\n\n          <div className='side-page'>\n\n            <div className='side-header'>\n              <div className='bold-text com-banner'>\n                About Community\n              </div>\n              <div className='community-info'>\n                <p className='bold-text'>{community?.community_info}</p>\n\n                {/* <div className=''>\n                  info\n                </div> */}\n\n                <div>\n                <button onClick={() => null} style={{\"width\":\"90%\",\"backgroundColor\": \"#FFF\", \"color\": \"#0079D3\", \"borderColor\": \"#0079D3\"}} className=\"main-links btn-style\">Join</button>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"main-spacer\"></div>\n\n            <div className='side-header' style={{'position':'sticky', 'top':'50px'}}>\n              <div className='bold-text com-banner'>\n                Technologies Used & Links\n              </div>\n              <ul className='light-text'>\n                <li>React</li>\n                <li>Redux</li>\n                <li>Python</li>\n                <li>Flask SQLAlchemy</li>\n                <li>PostgreSQL</li>\n              </ul>\n              <div style={{'textAlign':'center'}} className=\"light-text\">Developed by Jesse Christensen</div>\n              <div style={{'display':'flex', 'flexDirection':'row', 'textAlign':'center'}}>\n                <a href='https://www.linkedin.com/in/jesse-christensen-204801232/'><div className=\"bold-text\"><i className=\"fa-brands fa-linkedin\"></i>  LinkedIn</div></a>\n                <a href='https://github.com/jess-chris'><div className=\"bold-text\"><i className=\"fa-brands fa-github-square\"></i>   GitHub</div></a>\n              </div>\n            </div>\n\n          </div>\n\n      </div>\n    </div>\n  </div>\n)\n\n};\n\nexport default ViewCommunity;","import React, { useState } from 'react';\nimport { Modal } from '../../context/Modal';\nimport { useDispatch } from \"react-redux\";\n\nimport * as data_funcs from '../../store/data_store';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst EditPostForm = ({ post }) => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [showModal, setShowModal] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const [title, setTitle] = useState(post?.title);\n  const [content, setContent] = useState(post?.content);\n\n  const {name} = useParams();\n\n  const editPost = async (e) => {\n\n    e.preventDefault();\n  \n    const updated_post = {\n      'id': post.id,\n      'title': title,\n      'content': content\n    };\n\n    const data = await dispatch(data_funcs.edit_post(updated_post));\n    await dispatch(data_funcs.get_communities());\n\n    if (data) {\n      setErrors(data);\n    } else {\n      setShowModal(false)\n    }\n\n  }\n\n\n  const handleDelete = async (e) => {\n    e.preventDefault()\n\n    const toDelete = {\n      'id': post.id\n    };\n\n    setShowModal(false)\n    history.push(`${baseUrl}/s/${name}`);\n    await dispatch(data_funcs.delete_post(toDelete));\n    await dispatch(data_funcs.get_communities());\n  }\n\n\n\n  return (\n    <>\n      <button onClick={() => setShowModal(true)} className=\"main-links btn-style\">Edit</button>\n      <button className='main-links btn-style' onClick={handleDelete}>Delete</button>\n      {showModal && (\n      <Modal onClose={() => setShowModal(false)} currentId={'new-com-modal'}>\n        <div className='create-post-cont'>\n          <div className='create-post-top'>\n            <h3 className='bold-text'>Edit Post</h3>\n          </div>\n          <form onSubmit={editPost}>\n            <div>\n              {errors.map((error, ind) => (\n                <div key={ind}>{error}</div>\n              ))}\n            </div>\n            <div className='create-post-body'>\n              <div className='create-post-title'>\n                <div>\n                  <label htmlFor='title'></label>\n                  <textarea\n                    name='content'\n                    rows='2'\n                    cols='75'\n                    placeholder='Title'\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    required\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className='create-post-content' style={{'padding':'10px'}}>\n              <div>\n                <label htmlFor='content'></label>\n                <textarea\n                  name='content'\n                  style={{'height':'200px'}}\n                  placeholder='Text (optional)'\n                  value={content}\n                  onChange={(e) => setContent(e.target.value)}\n                />\n              </div>\n            </div>\n\n            <div className='create-post-bar'>\n              <div id='post-btn'>\n                <button className='main-links' type='submit'>Submit</button>\n              </div>\n            </div>\n\n          </form>\n        </div>\n      </Modal>\n      )}\n    </>\n  )\n};\n\n\nexport default EditPostForm;","import React, { useState } from 'react';\nimport { Modal } from '../../context/Modal';\nimport { useDispatch } from \"react-redux\";\n\nimport * as data_funcs from '../../store/data_store';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst EditCommentForm = ({ comment }) => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [showModal, setShowModal] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const [content, setContent] = useState(comment?.content);\n\n  const {name, id, title} = useParams();\n\n  const editComment = async (e) => {\n\n    e.preventDefault();\n  \n    const updated_comment = {\n      'commentId': comment.id,\n      'content': content.trim()\n    };\n\n    const data = await dispatch(data_funcs.edit_comment(updated_comment));\n    \n    if (data) {\n      setErrors(data);\n    } else {\n      await dispatch(data_funcs.get_communities());\n      setShowModal(false)\n    }\n\n  }\n\n\n  const handleDelete = async (e) => {\n    e.preventDefault()\n\n    const toDelete = {\n      'commentId': comment.id\n    };\n\n    await dispatch(data_funcs.delete_comment(toDelete));\n    await dispatch(data_funcs.get_communities());\n    history.push(`${baseUrl}/s/${name}/${id}/${title}`);\n  }\n\n\n\n  return (\n    <>\n      <button onClick={() => setShowModal(true)} className=\"main-links btn-style\">Edit</button>\n      <button className='main-links btn-style' onClick={handleDelete}>Delete</button>\n      {showModal && (\n      <Modal onClose={() => setShowModal(false)} currentId={'new-com-modal'}>\n        <div className='edit-post-cont' style={{'width':'600px'}}>\n          <div className='create-post-top'>\n            <h3 className='bold-text'>Edit Comment</h3>\n          </div>\n          <form onSubmit={editComment}>\n            <div>\n              {errors.map((error, ind) => (\n                <div key={ind}>{error}</div>\n              ))}\n            </div>\n            <div className='create-post-content'>\n              <label htmlFor='content'></label>\n              <textarea\n                name='content'\n                style={{'height':'200px'}}\n                placeholder='What are your thoughts?'\n                value={content}\n                onChange={(e) => setContent(e.target.value)}\n                required\n              />\n            </div>\n            <div className='create-post-bar'>\n              <div id='post-btn'>\n                <button className='main-links btn-style' type='submit'>Submit</button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </Modal>\n      )}\n    </>\n  )\n};\n\n\nexport default EditCommentForm;","import React, { useState, useEffect } from 'react';\nimport { Modal } from '../../context/Modal';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams, useLocation, NavLink } from 'react-router-dom';\n\nimport EditPostForm from './EditPostForm';\nimport LoginForm from '../auth/LoginForm';\nimport SignUpForm from '../auth/SignUpForm';\n\nimport * as data_funcs from '../../store/data_store';\n\nimport EditCommentForm from '../Comments/EditCommentForm';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL\n\nconst ViewPost = () => {\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const [prevLocation, ] = useState(location?.state?.location)\n  \n  const history = useHistory();\n  const { name, id } = useParams();\n  const [loaded, setLoaded] = useState(false);\n\n  const user = useSelector(state => state.session?.user);\n\n  useEffect(() => {\n    (async() => {\n      if (user) await dispatch(data_funcs.get_user_votes(user));\n      await dispatch(data_funcs.get_communities());\n      setLoaded(true);\n    })();\n  }, [dispatch, user]);\n\n  const [errors, setErrors] = useState([]);\n  const [showModal, setShowModal] = useState(true);\n  const [newComment, setNewComment] = useState('');\n  const userId = useSelector(state => state.session.user?.id);\n  const community = useSelector(state => state.data_store.all_communities[name.toLowerCase()]);\n  const post = community?.posts[id];\n  const comments = useSelector(state => state.data_store.all_communities[name.toLowerCase()]?.posts[id]?.comments)\n  // const postVotes = useSelector(state => state.data_store.user_votes.post_votes)\n  // const commentVotes = useSelector(state => state.data_store.user_votes.comment_votes)\n\n  const votes = useSelector(state => state.data_store.user_votes)\n\n  if (!loaded) {\n    return null;\n  }\n\n\n\n  const handleClose = (e) => {\n\n    setShowModal(false);\n    history.push(prevLocation);\n\n\n  };\n\n\n  const handleSubmitComment = async (e) => {\n    \n    e.preventDefault();\n\n    const comment = {\n      'postId': post.id,\n      'content': newComment.trim()\n    };\n\n    const data = await dispatch(data_funcs.create_comment(comment));\n    await dispatch(data_funcs.get_communities());\n    \n    if (data) {\n      setErrors(data);\n    } else {\n      setNewComment('');\n      setErrors([]);\n      history.push(`${baseUrl}/s/${community?.name}/${post?.id}/${post?.title.replaceAll(' ', '_')}`);\n    }\n\n\n\n  }\n\n  const saidIt = (e) => {\n\n    e.preventDefault();\n\n    const voiceMessage = new SpeechSynthesisUtterance();\n    voiceMessage.text = community.posts[id].title;\n    window.speechSynthesis.speak(voiceMessage);\n\n\n    // console.log(name + ' ' + id)\n\n  };\n\n  const saidItComment = (e) => {\n\n    e.preventDefault();\n\n    const commentInd = e.target.id;\n    const voiceMessage = new SpeechSynthesisUtterance();\n    voiceMessage.text = community.posts[id].comments[commentInd]?.content;\n    window.speechSynthesis.speak(voiceMessage);\n\n\n    // console.log(name + ' ' + id)\n\n  };\n\n  const handlePostVote = async (post, val) => {\n\n    if (!user) {\n      return history.push(`${baseUrl}/login`);\n    }\n\n    const upArrow = document.getElementById(`post-up:${post}`);\n    const downArrow = document.getElementById(`post-down:${post}`);\n    const scoreCont = document.getElementById(`post-counter-${post}`)\n\n\n    if (val === true) {\n\n      upArrow.getAttribute('fill') === 'none' ? upArrow.setAttribute('fill', '#ff4500') : upArrow.setAttribute('fill', 'none');\n      if (downArrow.getAttribute('fill') !== 'none') downArrow.setAttribute('fill', 'none');\n\n\n    } else if (val === false) {\n\n      downArrow.getAttribute('fill') === 'none' ? downArrow.setAttribute('fill', '#0079D3') : downArrow.setAttribute('fill', 'none');\n      if (upArrow.getAttribute('fill') !== 'none') upArrow.setAttribute('fill', 'none');\n    }\n\n    const vote = {\n      userId: user.id,\n      postId: post,\n      voteType: val\n    };\n\n    await dispatch(data_funcs.post_vote(vote));\n    const {score} = await dispatch(data_funcs.current_post_score(post));\n    scoreCont.innerText = score;\n  };\n\n  const handleCommentVote = async (comment, val) => {\n\n    if (!user) {\n      return history.push(`${baseUrl}/login`);\n    }\n\n    const upArrow = document.getElementById(`com-up:${comment}`);\n    const downArrow = document.getElementById(`com-down:${comment}`);\n    const scoreCont = document.getElementById(`comment-counter-${comment}`)\n\n\n    if (val === true) {\n\n      upArrow.getAttribute('fill') === 'none' ? upArrow.setAttribute('fill', '#ff4500') : upArrow.setAttribute('fill', 'none');\n      if (downArrow.getAttribute('fill') !== 'none') downArrow.setAttribute('fill', 'none');\n\n\n    } else if (val === false) {\n\n      downArrow.getAttribute('fill') === 'none' ? downArrow.setAttribute('fill', '#0079D3') : downArrow.setAttribute('fill', 'none');\n      if (upArrow.getAttribute('fill') !== 'none') upArrow.setAttribute('fill', 'none');\n    }\n\n    const vote = {\n      userId: user.id,\n      commentId: comment,\n      voteType: val\n    };\n\n    await dispatch(data_funcs.comment_vote(vote));\n    const {score} = await dispatch(data_funcs.current_comment_score(comment));\n    scoreCont.innerText = score;\n  };\n\n\n\n  return (\n    <>\n    {showModal && (\n    <Modal onClose={handleClose}>\n    <div className='community-page'>\n  \n      {/* <span className='com-header'></span>\n      <div className='com-header-cont'>\n      </div> */}\n  \n      <div className='main-com-cont'>\n  \n        <div className='com-menu-bar com-banner' style={{'justifyContent':'space-between'}}>\n          <h1 className='bold-text' style={{'fontSize': '18px', 'color': '#fff'}}>s/{community?.name}</h1>\n          {/* {sessionLinks && sessionLinks} */}\n          <div style={{'display':'flex', 'alignItems':'center', 'paddingRight':'5px'}}>\n            <svg onClick={handleClose} style={{'cursor':'pointer'}} viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" className=\"menu-close\">\n              <polygon fill=\"inherit\" points=\"11.649 9.882 18.262 3.267 16.495 1.5 9.881 8.114 3.267 1.5 1.5 3.267 8.114 9.883 1.5 16.497 3.267 18.264 9.881 11.65 16.495 18.264 18.262 16.497\"></polygon>\n            </svg>\n          </div>\n        </div>\n  \n      </div>\n  \n      <div className='com-content'>\n  \n        <div className='com-post-cont'>\n\n  \n          <div style={{'marginTop':'0'}} className=\"post-cont modal-post-cont\">\n\n  \n            <div className='post-wrap'>\n              <div className=\"single-post-btn-bar\">\n\n                <div className={`vote-cont-${post?.id}`} style={{'display': 'flex', 'flexDirection':'column', 'justifyContent': 'center', 'alignItems':'center'}}>\n                  <svg onClick={() => handlePostVote(post?.id, true)} className=\"vote-buttons\" id=\"upVoteButton\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path id={`post-up:${post?.id}`} d=\"M12 4 3 15h6v5h6v-5h6z\" className=\"icon_svg-stroke icon_svg-fill\" strokeWidth=\"1.5\" stroke=\"#666\" fill={votes.post_votes !== undefined && post?.id in votes?.post_votes && votes?.post_votes[post.id]?.vote_type === true ? '#ff4500' : 'none'} strokeLinejoin=\"round\"></path>\n                  </svg>\n                  <div style={{'cursor':'auto'}} id={`post-counter-${post?.id}`}>{post?.vote_score}</div>\n                  <svg onClick={() => handlePostVote(post?.id, false)} className=\"vote-buttons\" id=\"downVoteButton\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path id={`post-down:${post?.id}`} d=\"m12 20 9-11h-6V4H9v5H3z\" className=\"icon_svg-stroke icon_svg-fill\" stroke=\"#666\" fill={votes.post_votes !== undefined && post?.id in votes?.post_votes && votes?.post_votes[post.id]?.vote_type === false ? '#0079D3' : 'none'} strokeWidth=\"1.5\" strokeLinejoin=\"round\"></path>\n                  </svg>\n                </div>\n\n                <div></div>\n\n                <div className=\"sound-cont\">\n                  <button onClick={saidIt} style={{'background':'none', 'border':'none', 'color': 'grey'}}><i className=\"fa-solid fa-volume-high\"></i></button>\n                </div>\n              </div>\n\n              <div key={post?.id} className=\"single-post-view text-post-view\" style={{'cursor':'auto'}}>\n              <div><NavLink to={`${baseUrl}/s/${community?.name}`}><span className=\"bold-text\">{`s/${community?.name}`}</span></NavLink> • <span className=\"light-text\" style={{'cursor':'auto'}}>Posted by u/{post?.user_name}</span></div>\n                <p className=\"medium-text\" style={{'fontWeight': 'bold', 'fontSize': '16px'}}>{post?.title}</p>\n                <p className=\"medium-text text-post-view\">{post?.content}</p>\n                {userId === post?.user_id && (\n                <div id='com-btns'>\n                  <EditPostForm post={post} />\n                </div>\n                )}\n              </div>\n              \n            </div>\n\n            <div className='main-spacer' style={{'paddingTop':'40px'}}></div>\n\n            {user && user && (\n            <div className='comment-cont'>\n                <div className='new-comment-head medium-text'>Comment as {user.username}</div>\n                <div className='new-comment-cont'>\n                  <div>\n                  {errors.map((error, ind) => (\n                    <div key={ind}>{error}</div>\n                  ))}\n                  </div>\n                  <form onSubmit={handleSubmitComment} className='new-comment-content' style={{'outline':'none'}}>\n                    <textarea\n                      name='comment'\n                      placeholder='What are your thoughts?'\n                      onChange={(e) => setNewComment(e.target.value)}\n                      value={newComment}\n                    ></textarea>\n\n                  <div className='new-comment-footer'>\n                    <button type='submit' className='main-links btn-style'>Comment</button>\n                  </div>\n                  </form>\n                  \n                </div>\n            </div>\n            )}\n\n            {!userId && (\n            <>\n              <div style={{'marginLeft':'30px', 'border': '1px solid #ccc'}} className=\"create-post-cont\">\n\n                <div className='post-placeholder'>\n                  <div style={{'fontWeight':'bold'}} className='light-text'>Log in or sign up to leave a comment</div>\n                  <div className='post-placeholder-btn'>\n                    <LoginForm />\n                    <SignUpForm />\n                  </div>\n                </div>\n              </div>\n           </>\n            )}\n\n            <div className='comment-cont'>\n\n                  {loaded && comments?.map((comment, ind) => {\n                    return(\n                  <div key={comment?.id} className='user-comments'>\n                    <div>\n                      <p className='light-text'>Posted by u/{comment?.user_name}</p>\n                    </div>\n                    <div>\n                      <p className=\"medium-text\" style={{'fontWeight': 'bold', 'marginLeft':'10px'}}>{comment?.content}</p>\n                    </div>\n                    <div className='user-comment-footer'>\n                      <div className={`vote-cont-${comment?.id}`} style={{'display':'flex', 'flexDirection':'row', 'alignItems':'center'}}>\n                        <svg onClick={() => handleCommentVote(comment?.id, true)} className=\"vote-buttons\" id=\"upVoteButton\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <path id={`com-up:${comment?.id}`} d=\"M12 4 3 15h6v5h6v-5h6z\" className=\"icon_svg-stroke icon_svg-fill\" strokeWidth=\"1.5\" stroke=\"#666\" fill={votes?.comment_votes !== undefined && comment?.id in votes?.comment_votes && votes?.comment_votes[comment.id]?.vote_type === true ? '#ff4500' : 'none'} strokeLinejoin=\"round\"></path>\n                        </svg>\n                        <div style={{'cursor':'auto'}} id={`comment-counter-${comment?.id}`}>{comment?.vote_score}</div>\n                        <svg onClick={() => handleCommentVote(comment?.id, false)} className=\"vote-buttons\" id=\"downVoteButton\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                          <path id={`com-down:${comment?.id}`} d=\"m12 20 9-11h-6V4H9v5H3z\" className=\"icon_svg-stroke icon_svg-fill\" stroke=\"#666\" fill={votes?.comment_votes !== undefined && comment?.id in votes?.comment_votes && votes?.comment_votes[comment.id]?.vote_type === false ? '#0079D3' : 'none'} strokeWidth=\"1.5\" strokeLinejoin=\"round\"></path>\n                        </svg>\n                      </div>\n                      <button onClick={saidItComment} style={{'background':'none', 'border':'none', 'color': 'grey'}}><i id={ind} className=\"fa-solid fa-volume-high\"></i></button>\n                      {userId === comment?.user_id && (\n                        <EditCommentForm comment={comment} />\n                      )}\n                    </div>\n                  </div>\n                    )\n                  })}\n\n\n            </div>\n\n  \n          </div>\n        </div>\n  \n        <div className='side-page-cont side-post-modal'>\n  \n          <div className='side-page-post-view'>\n  \n            <div className='side-header' style={{'position': 'fixed', 'width':'312px'}}>\n              <div className='bold-text com-banner'>\n                About Community\n              </div>\n              <p className='bold-text community-info'>{community?.community_info}</p>\n            </div>\n          </div>\n\n          <div className='side-page-post-view'>\n            <div className='side-header' style={{'position': 'fixed', 'width':'312px'}}>\n              <div className='bold-text com-banner'>\n                Technologies Used & Links\n              </div>\n              <ul className='light-text'>\n                <li>React</li>\n                <li>Redux</li>\n                <li>Python</li>\n                <li>Flask SQLAlchemy</li>\n                <li>PostgreSQL</li>\n              </ul>\n              <div style={{'textAlign':'center'}} className=\"light-text\">Developed by Jesse Christensen</div>\n              <div style={{'display':'flex', 'flexDirection':'row', 'textAlign':'center'}}>\n                <a href='https://www.linkedin.com/in/jesse-christensen-204801232/'><div className=\"bold-text\"><i className=\"fa-brands fa-linkedin\"></i>  LinkedIn</div></a>\n                <a href='https://github.com/jess-chris'><div className=\"bold-text\"><i className=\"fa-brands fa-github-square\"></i>   GitHub</div></a>\n              </div>\n            </div>\n          </div>\n  \n        </div>\n      </div>\n    </div>\n  </Modal>\n  )}\n  </>\n  )\n  \n};\n\n\n\nexport default ViewPost;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport LoginForm from './components/auth/LoginForm';\nimport SignUpForm from './components/auth/SignUpForm';\nimport NavBar from './components/NavBar';\nimport ProtectedRoute from './components/auth/ProtectedRoute';\nimport UsersList from './components/UsersList';\nimport User from './components/User';\nimport { authenticate } from './store/session';\n\nimport * as data_funcs from './store/data_store';\n\nimport HomePage from './components/HomePage/HomePage';\nimport ViewCommunity from './components/Communities/ViewCommunity';\nimport ViewPost from './components/Posts/ViewPost';\n\nfunction App() {\n  const [loaded, setLoaded] = useState(false);\n  const dispatch = useDispatch();\n\n  const baseUrl = process.env.REACT_APP_BASE_URL\n\n\n  useEffect(() => {\n    (async() => {\n      await dispatch(authenticate());\n      await dispatch(data_funcs.get_communities());\n      setLoaded(true);\n    })();\n  }, [dispatch]);\n\n\n  if (!loaded) {\n    return null;\n  }\n\n\n  return (\n    <BrowserRouter>\n      <div className='navbar-cont'>\n        <NavBar />\n      </div>\n      <Switch>\n        <Route path={`${baseUrl}/`} exact={true} >\n          <HomePage />\n        </Route>\n        <Route path={`${baseUrl}/login`} exact={true}>\n          <LoginForm value={true} />\n        </Route>\n        <Route path={`${baseUrl}/sign-up`} exact={true}>\n          <SignUpForm />\n        </Route>\n        <Route path={`${baseUrl}/s/:name`} exact={true}>\n          <ViewCommunity />\n        </Route>\n        <Route path={`${baseUrl}/s/:name/:id/:title`} exact={true}>\n          <ViewPost />\n        </Route>\n        {/* <ProtectedRoute path='/communities/new' exact={true}>\n          <CreateCommunityForm />\n        </ProtectedRoute> */}\n        <ProtectedRoute path={`${baseUrl}/users`} exact={true} >\n          <UsersList/>\n        </ProtectedRoute>\n        <ProtectedRoute path={`${baseUrl}/users/:userId`} exact={true} >\n          <User />\n        </ProtectedRoute>\n        <Route path=''>\n          <Redirect to={`${baseUrl}/`} />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport session from './session'\nimport data_store from './data_store'\n\nconst rootReducer = combineReducers({\n  session,\n  data_store\n});\n\n\nlet enhancer;\n\nif (process.env.NODE_ENV === 'production') {\n  enhancer = applyMiddleware(thunk);\n} else {\n  const logger = require('redux-logger').default;\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  enhancer = composeEnhancers(applyMiddleware(thunk, logger));\n}\n\nconst configureStore = (preloadedState) => {\n  return createStore(rootReducer, preloadedState, enhancer);\n};\n\nexport default configureStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport configureStore from './store';\n\nimport { ModalProvider } from \"./context/Modal\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ModalProvider>\n        <App />\n      </ModalProvider>  \n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}